### std::variant üó∏

```cpp
std::variant<int, double> v{ 12 };
std::get<int>(v); // == 12
std::get<0>(v); // == 12
v = 12.0;
std::get<double>(v); // == 12.0
std::get<1>(v); // == 12.0


if (auto p = std::get_if<int>(&v)) 
{ 
std::cout << "int: " << *p << '\n';
}
else { 
std::cout << "Not an int\n";
}`
```

- **–†–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ —Ä–∞–≤–µ–Ω —Ä–∞–∑–º–µ—Ä—É —Å–∞–º–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ –∏–∑ —Ç–∏–ø–æ–≤**¬†–ø–ª—é—Å –Ω–µ–±–æ–ª—å—à–æ–π —Å–ª—É–∂–µ–±–Ω—ã–π –∏–Ω–¥–µ–∫—Å, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π —Ç–∏–ø[3](https://habr.com/ru/articles/804837/).
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç¬†**–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—é**¬†—á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏¬†`std::get<T>`,¬†`std::get_if<T>`, –∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–∞ —á–µ—Ä–µ–∑¬†`std::holds_alternative<T>`[6](https://learn.microsoft.com/ru-ru/cpp/standard-library/variant-functions?view=msvc-170).

### std::optional üó∏

```cpp
#include <iostream>
#include <optional>

std::optional<std::string> createMessage(bool create) {
    if (create) {
        return "Hello, World!";
    } else {
        return std::nullopt;
    }
}

int main() {
    auto message = createMessage(true);
    if (message.has_value()) {
        std::cout << message.value() << '\n';
    } else {
        std::cout << "No message created.\n";
    }
    return 0;
}
```

### std::any üó∏
`std::any` ‚Äî —ç—Ç–æ —Ç–∏–ø –∏–∑ C++, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `std::variant`, –≥–¥–µ —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, `std::any` –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –æ—á–µ–Ω—å –≥–∏–±–∫–∏–º.

```cpp
#include <any>

int main() {
    std::any a = 42;
    if (a.has_value()) {
        try {
            int value = std::any_cast<int>(a);
            std::cout << "Value: " << value << '\n';
        } catch (const std::bad_any_cast& e) {
            std::cerr << "Error: " << e.what() << '\n';
        }
    }
    return 0;
}

std::any a = 12;

¬†std::println("int any {}", std::any_cast<int>(a));
¬†a = std::string("sssss");
¬†std::println("string any {}", std::any_cast<std::string>(a));


```

**–ù–∏–∫–∞–∫–∏—Ö –Ω–µ—è–≤–Ω—ã—Ö —Å—É–∂–µ–Ω–∏–π!!!**
### std::string_view üó∏

```cpp
// Regular strings.
std::string_view cppstr {"foo"};
// Wide strings.
std::wstring_view wcstr_v {L"baz"};
// Character arrays.
char array[3] = {'b', 'a', 'r'};
std::string_view array_v(array, std::size(array));
```


### std::invoke üó∏
`std::invoke` ‚Äî —ç—Ç–æ —É—Ç–∏–ª–∏—Ç–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –≤ C++17, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã–∑–æ–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∏–¥–æ–≤ –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –¥—Ä—É–≥–∏–µ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

```cpp
#include <iostream>
#include <functional>
void hello() {
    std::cout << "Hello, World!" << '\n';
}

struct Greeter {
    void operator()(const std::string& name) const {
        std::cout << "Hello, " << name << "!" << '\n';
    }
};

int main() {
    std::invoke(hello);
    // –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ç–æ—Ä–∞
    std::invoke(Greeter{}, "Alice");
    return 0;
}
```
### std::apply üó∏
`std::apply` ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –≤ C++17, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –≤—ã–∑—ã–≤–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ—É–Ω–∫—Ü–∏—é) —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–º–∏ –∏–∑ –∫–æ—Ä—Ç–µ–∂–∞. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ —É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ —É –≤–∞—Å –µ—Å—Ç—å –∫–æ—Ä—Ç–µ–∂, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏, –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –∏—Ö –≤ —Ñ—É–Ω–∫—Ü–∏—é.

```cpp
#include <iostream>
#include <tuple>
#include <functional>
// –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—É—é –º—ã –±—É–¥–µ–º –≤—ã–∑—ã–≤–∞—Ç—å
void printSum(int a, int b, int c) {
    std::cout << "Sum: " << a + b + c << '\n';
}

int main() {
    // –°–æ–∑–¥–∞–µ–º –∫–æ—Ä—Ç–µ–∂ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
    auto args = std::make_tuple(1, 2, 3);

    // –ò—Å–ø–æ–ª—å–∑—É–µ–º std::apply –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —ç—Ç–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ —Ñ—É–Ω–∫—Ü–∏—é
    std::apply(printSum, args);
    return 0;
}
```


### std::filesystem üó∏
`std::filesystem` ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –≤ C++17, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Ö —Å–≤–æ–π—Å—Ç–≤.

```cpp
#include <iostream>
#include <filesystem>
#include <fstream>

namespace fs = std::filesystem;

int main() {
    fs::path filePath = "example.txt";
    fs::path dirPath = "example_dir";
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ —Å–æ–∑–¥–∞–µ–º –µ–≥–æ, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
    if (!fs::exists(filePath)) {
        std::ofstream(filePath);
        std::cout << "File created.\n";
    }
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Å–æ–∑–¥–∞–µ–º –µ—ë, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
    if (!fs::exists(dirPath)) {
        fs::create_directory(dirPath);
        std::cout << "Directory created.\n";
    }
    // –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª
    fs::remove(filePath);
    std::cout << "File removed.\n";

    return 0;
}
```

### std::byte
`std::byte` ‚Äî —ç—Ç–æ —Ç–∏–ø, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤ C++17, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–π—Ç–∞–º–∏. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å —Å—ã—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `char` –∏–ª–∏ `unsigned char` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–π—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

```cpp
#include <iostream>
#include <cstddef> // –î–ª—è std::byte
int main() {
    std::byte b1{0x3F}; // –°–æ–∑–¥–∞–µ–º –±–∞–π—Ç —Å —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º 0x3F
    std::byte b2{0x0F};

    // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    std::byte result = b1 & b2; // –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò

    // –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∫ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
    std::cout << "Result: " << std::to_integer<int>(result) << '\n';

    return 0;
}

```

### Splicing for maps and sets

```cpp
Moving elements from one map to another:
//–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ 1 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ –¥—Ä—É–≥–æ–π, –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω—è—Ç—å –∫–ª—é—á –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏
std::map<int, string> src {{1, "one"}, {2, "two"}, {3, "buckle my shoe"}};
std::map<int, string> dst {{3, "three"}};
dst.insert(src.extract(src.find(1))); // Cheap remove and insert of { 1, "one" } from `src` to `dst`.
dst.insert(src.extract(2)); // Cheap remove and insert of { 2, "two" } from `src` to `dst`.
// dst == { { 1, "one" }, { 2, "two" }, { 3, "three" } };
```

Inserting an entire set:

```c
std::set<int> src {1, 3, 5};
std::set<int> dst {2, 4, 5};
dst.merge(src);
// src == { 5 }
// dst == { 1, 2, 3, 4, 5 }
```

Inserting elements which outlive the container:

```c
auto elementFactory() {
  std::set<...> s;
  s.emplace(...);
  return s.extract(s.begin());
}
s2.insert(elementFactory());
```

Changing the key of a map element:

```c
std::map<int, string> m {{1, "one"}, {2, "two"}, {3, "three"}};
auto e = m.extract(2);
e.key() = 4;
m.insert(std::move(e));
// m == { { 1, "one" }, { 3, "three" }, { 4, "two" } }
```


### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

–ú–Ω–æ–≥–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã STL, —Ç–∞–∫–∏–µ –∫–∞–∫ –º–µ—Ç–æ–¥—ã¬†`copy`,¬†`find`¬†–∏¬†`sort`, –Ω–∞—á–∞–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å¬†_–ø–æ–ª–∏—Ç–∏–∫–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è_:¬†`seq`,¬†`par`¬†–∏¬†`par_unseq`, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç ¬´–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º—É¬ª, ¬´–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º—É¬ª –∏ ¬´–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º—É –±–µ–∑ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è¬ª —Ä–µ–∂–∏–º–∞–º.

```cpp

```
### std::sample +-
`std::sample` ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –≤ C++17, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞. –û–Ω–∞ –ø–æ–ª–µ–∑–Ω–∞, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –ø–æ–¥–≤—ã–±–æ—Ä–∫—É –∏–∑ –±–æ–ª—å—à–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.
```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <random>

int main() {
    std::vector<int> v = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    std::vector<int> sampled(3); // –ë—É—Ñ–µ—Ä –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

    std::random_device rd;
    std::mt19937 g(rd());

    // –í—ã–±–∏—Ä–∞–µ–º 3 —Å–ª—É—á–∞–π–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ –≤–µ–∫—Ç–æ—Ä–∞ v –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Ö –≤ sampled
    std::sample(v.begin(), v.end(), sampled.begin(), 3, g);

    // –í—ã–≤–æ–¥–∏–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
    for (int elem : sampled) {
        std::cout << elem << ' ';
    }
    std::cout << '\n';

    return 0;
}

```

### std::clamp üó∏
`std::clamp` ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –≤ C++17, –∫–æ—Ç–æ—Ä–∞—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–Ω—å—à–µ –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã, –æ–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ä–∞–≤–Ω—ã–º —ç—Ç–æ–π –≥—Ä–∞–Ω–∏—Ü–µ. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –±–æ–ª—å—à–µ –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã, –æ–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ä–∞–≤–Ω—ã–º —ç—Ç–æ–π –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞, –æ–Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º.

```cpp
#include <iostream>
#include <algorithm> // –î–ª—è std::clamp

int main() {
    int value = 10;
    int low = 5;
    int high = 8;

    int clamped_value = std::clamp(value, low, high);

    std::cout << "Clamped value: " << clamped_value << '\n'; // –í—ã–≤–µ–¥–µ—Ç 8

    return 0;
}
```
### std::reduce üó∏
`std::reduce` ‚Äî —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤ C++17, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–≤–µ—Ä—Ç–∫–∏ –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –û–Ω –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –≤ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∑–∞–¥–∞–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

```cpp
#include <iostream>
#include <vector>
#include <numeric> // –î–ª—è std::reduce

int main() {
    std::vector<int> v = {1, 2, 3, 4, 5};

    // –°—É–º–º–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤–µ–∫—Ç–æ—Ä–∞
    int sum = std::reduce(v.begin(), v.end());

    std::cout << "Sum: " << sum << '\n'; // –í—ã–≤–µ–¥–µ—Ç 15 (1+2+3+4+5)

    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    int sum_with_init = std::reduce(v.begin(), v.end(), 10);

    std::cout << "Sum with init: " << sum_with_init << '\n'; // –í—ã–≤–µ–¥–µ—Ç 25 (10+1+2+3+4+5)

    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (—É–º–Ω–æ–∂–µ–Ω–∏–µ)
    auto multiply = [](int a, int b) { return a * b; };
    int product = std::reduce(v.begin(), v.end(), 1, multiply);

    std::cout << "Product: " << product << '\n'; // –í—ã–≤–µ–¥–µ—Ç 120 (1*2*3*4*5)

    return 0;
}
```

### –ù–û–î –∏ –ù–û–ö

–ù–∞–∏–±–æ–ª—å—à–∏–π –æ–±—â–∏–π –¥–µ–ª–∏—Ç–µ–ª—å (–ù–û–î) –∏ –Ω–∞–∏–º–µ–Ω—å—à–µ–µ –æ–±—â–µ–µ –∫—Ä–∞—Ç–Ω–æ–µ (–ù–û–ö).

```cpp
int const p = 9;
const int q = 3;
std::gcd(p, q); // == 3
std::lcm(p, q); // == 9
```

### –§—É–Ω–∫—Ü–∏–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º–µ–∂—É—Ç–∫–æ–≤ –∏ —Ç–æ—á–µ–∫ –≤—Ä–µ–º–µ–Ω–∏
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ abs, round, ceil –∏ floor –¥–ª—è¬†`std::chrono::duration`¬†–∏¬†`std::chrono::time_point`.

```c
using seconds = std::chrono::seconds;
std::chrono::milliseconds d{ 5500 };
std::chrono::abs(d); // == 5 —Å
std::chrono::round<seconds>(d); // == 6 —Å
std::chrono::ceil<seconds>(d); // == 6 —Å
std::chrono::floor<seconds>(d); // == 5 —Å
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞


### –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —à–∞–±–ª–æ–Ω–∞, –Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ —Ç–∏–ø—É, —Å –ø–æ–º–æ—â—å—é auto

–í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –≤—ã–≤–æ–¥–∞¬†`auto`¬†–∏ —Å —É—á—ë—Ç–æ–º —Å–ø–∏—Å–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Ç–∏–ø–æ–≤[*] –Ω–µ —è–≤–ª—è—é—â–∏—Ö—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —à–∞–±–ª–æ–Ω–∞, –∞—Ä–≥—É–º–µ–Ω—Ç—ã —à–∞–±–ª–æ–Ω–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–≤–µ–¥–µ–Ω—ã –∏–∑ —Ç–∏–ø–æ–≤ –µ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```c
template <auto... seq>
struct my_integer_sequence {
 // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–¥–µ—Å—å ...
};

// –Ø–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–π—Ç–µ —Ç–∏–ø `int` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —à–∞–±–ª–æ–Ω–∞.
auto seq = std::integer_sequence<int, 0, 1, 2>();
// –¢–∏–ø –≤—ã–≤–µ–¥–µ–Ω –∫–∞–∫ `int`.
auto seq2 = my_integer_sequence<0, 1, 2>();
```

* –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†`double`¬†–≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–∏–ø–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —à–∞–±–ª–æ–Ω–∞, —á—Ç–æ —Ç–∞–∫–∂–µ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –≤—ã–≤–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º¬†`auto`¬†–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–º.

### Folding expressions

–°–∫–ª–∞–¥–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

–°–≤—ë—Ä—Ç–æ—á–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤—ë—Ä—Ç–∫—É –ø–∞–∫–µ—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —à–∞–±–ª–æ–Ω–∞ —Å –ø–æ–º–æ—â—å—é –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.

- –í—ã—Ä–∞–∂–µ–Ω–∏—è –≤–∏–¥–∞¬†`(... op e)`¬†–∏–ª–∏¬†`(e op ...)`, –≥–¥–µ¬†`op`¬†‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å–≤—ë—Ä—Ç–∫–∏, –∞¬†`e`¬†‚Äî –Ω–µ—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –ø–∞–∫–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è¬†_—É–Ω–∞—Ä–Ω—ã–º–∏ —Å–≤—ë—Ä—Ç–∫–∞–º–∏_.
- –í—ã—Ä–∞–∂–µ–Ω–∏–µ –≤–∏–¥–∞¬†`(e1 op ... op e2)`, –≥–¥–µ¬†`op`¬†‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å–≤—ë—Ä—Ç–∫–∏, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è¬†_–±–∏–Ω–∞—Ä–Ω–æ–π —Å–≤—ë—Ä—Ç–∫–æ–π_. –õ–∏–±–æ¬†`e1`, –ª–∏–±–æ¬†`e2`¬†—è–≤–ª—è—é—Ç—Å—è –Ω–µ—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–æ –Ω–µ –æ–±–∞ —Å—Ä–∞–∑—É.

```cpp
template <typename... Args>
auto sum(Args... args) {
    // Unary folding.
    return (... + args);
}
sum(1.0, 2.0f, 3); // == 6.0
```

### –ª—è–º–±–¥–∞ - –≤—ã—Ä–∞–∂–µ–Ω–∏–µ constexpr
–õ—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º¬†`constexpr`.

```c
auto identity = [](int n) constexpr { return n; };
static_assert(identity(123) == 123);
```

```c
auto constexpr add = [](int x, int y) {
 auto L = [=] { return x; };
 auto R = [=] { return y; };
 return [=] { return L() + R(); };
};

static_assert(add(1, 2)() == 3);
```

```c
addOne int constexpr(int n) {
 return [n] { return n + 1; }();
}

static_assert(addOne(1) == 2);
```

### –õ—è–º–±–¥–∞-–∑–∞—Ö–≤–∞—Ç¬†`this`¬†–ø–æ –∑–Ω–∞—á–µ–Ω–∏—é

–†–∞–Ω–µ–µ –ø—Ä–∏ –∑–∞—Ö–≤–∞—Ç–µ¬†`this`¬†–≤ —Å—Ä–µ–¥–µ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∞. –ü—Ä–∏–º–µ—Ä–æ–º –ø—Ä–æ–±–ª–µ–º–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ä–æ–∫ –µ–≥–æ –∂–∏–∑–Ω–∏ –∏—Å—Ç–µ–∫.¬†`*this`¬†(C++17) —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫¬†`this`¬†(C++11) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –ø–æ —Å—Å—ã–ª–∫–µ.

```c
MyObj struct {
 int value {123};
 auto getValueCopy() {
 return [*this] { return value; };
 }
 auto getValueRef() {
 return [this] { return value; };
 }
};
MyObj mo;
auto valueCopy = mo.getValueCopy();
auto valueRef = mo.getValueRef();
mo.value = 321;
valueCopy(); // 123
valueRef(); // 321
```

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ inline –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–∞–∫ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º, —Ç–∞–∫ –∏ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –æ–±—ä—è–≤–ª–µ–Ω–Ω–∞—è —Å –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º inline, –∏–º–µ–µ—Ç —Ç—É –∂–µ —Å–µ–º–∞–Ω—Ç–∏–∫—É, —á—Ç–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è, –æ–±—ä—è–≤–ª–µ–Ω–Ω–∞—è —Å –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º inline.

```c
Sstruct
//  –ü—Ä–∏–º–µ—Ä –¥–∏–∑–∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Compiler Explorer. { int x; };
inline S x1 = S{321}; // mov esi, dword ptr [x1]
                      // x1: .long 321

S x2 = S{123}; // mov eax, dword ptr [.L_ZZ4mainE2x2]
                      // mov dword ptr [rbp - 8], eax
                      // .L_ZZ4mainE2x2: .long 123
```

–ï–≥–æ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π-—á–ª–µ–Ω–∞, —á—Ç–æ–±—ã –µ—ë –Ω–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ.

```c
S struct {
 S() : id{count++} {}
 ~S() { count--; }
 int id;
 static inline int count{0}; // –æ–±—ä—è–≤–∏—Ç—å –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å count –∑–Ω–∞—á–µ–Ω–∏–µ–º 0 –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞
};
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏

–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–∏—Å–∞—Ç—å¬†`auto [ x, y, z ] = expr;`¬†—Ç–∞–º, –≥–¥–µ —Ç–∏–ø¬†`expr`¬†—è–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ç–µ–∂–µ–ø–æ–¥–æ–±–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º, —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥—É—Ç –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º¬†`x`,¬†`y`, –∏¬†`z`¬†(–∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –≤ —ç—Ç–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏).¬†_–ö–æ—Ä—Ç–µ–∂–µ–ø–æ–¥–æ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã_¬†–≤–∫–ª—é—á–∞—é—Ç –≤ —Å–µ–±—è¬†[`std::tuple`](https://github.com/AnthonyCalandra/modern-cpp-features/blob/master/README.md#tuples),¬†`std::pair`,¬†[`std::array`](https://github.com/AnthonyCalandra/modern-cpp-features/blob/master/README.md#stdarray), –∞ —Ç–∞–∫–∂–µ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

```c
using Coordinate = std::pair<int, int>;
Coordinate origin() {
 return Coordinate{0, 0};
}

const auto [ x, y ] = origin();
x; // == 0
y; // == 0
```

```c
std::unordered_map<std::string, int> mapping {
 {"a", 1},
 {"b", 2},
 {"c", 3}
};

// –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Å—Å—ã–ª–∫–µ.
for (const auto& [key, value] : mapping) {
 // –°–¥–µ–ª–∞–π—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å —Å –∫–ª—é—á–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º
}
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã–±–æ—Ä–∞ —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–º

–ù–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤¬†`if`¬†–∏¬†`switch`¬†—É–ø—Ä–æ—â–∞—é—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞ –∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏.

```c
{
 std::lock_guard<std::mutex> lk(mx);
 if (v.empty()) v.push_back(val);
}
// vs.
if (std::lock_guard<std::mutex> lk(mx); v.empty()) {
 v.push_back(val);
}
```

### constexpr , –µ—Å–ª–∏

–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏—è, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º–æ–≥–æ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

```c
—à–∞–±–ª–æ–Ω <—Ç–∏–ø_–¥–∞–Ω–Ω—ã—Ö T>
constexpr bool isIntegral() {
 if constexpr (std::is_integral<T>::value) {
 return true;
 } else {
 return false;
 }
}
static_assert(isIntegral<int>() == true);
static_assert(isIntegral<char>() == true);
static_assert(isIntegral<double>() == false);
struct S {};
static_assert(isIntegral<S>() == false);
```

### –ê—Ç—Ä–∏–±—É—Ç—ã [[fallthrough]], [[nodiscard]], [[maybe_unused]]

–í C++17 –ø–æ—è–≤–∏–ª–∏—Å—å —Ç—Ä–∏ –Ω–æ–≤—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–∞:¬†`[[fallthrough]]`,¬†`[[nodiscard]]`¬†–∏¬†`[[maybe_unused]]`.

- `[[fallthrough]]`¬†—É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, —á—Ç–æ –ø—Ä–æ–ø—É—Å–∫ –≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–µ switch —è–≤–ª—è–µ—Ç—Å—è –æ–∂–∏–¥–∞–µ–º—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º. –≠—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–µ switch, –∏ –æ–Ω –¥–æ–ª–∂–µ–Ω —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –º–µ—Ç–∫–æ–π case/default.

```c
switch (n) {
 case 1: 
 // ...
 [[fallthrough]];
 case 2:
 // ...
    break;
 case 3:
 // ...
 [[fallthrough]];
 default:
 // ...
}
```

- `[[nodiscard]]`¬†–≤—ã–¥–∞—ë—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ —É —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å —ç—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç, –∞ –µ–≥–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.

```c
[[nodiscard]] bool do_something() {
 return is_success; // true –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞, false –≤ —Å–ª—É—á–∞–µ –Ω–µ—É–¥–∞—á–∏
}

do_something(); // –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 'bool do_something()',
                // –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–µ —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º 'nodiscard'
```

```c
// Only issues a warning when `error_info` is returned by value.
struct [[nodiscard]] error_info {
  // ...
};

error_info do_something() {
  error_info ei;
  // ...
  return ei;
}

do_something(); // warning: ignoring returned value of type 'error_info',
                // declared with attribute 'nodiscard'
```

- `[[maybe_unused]]`¬†indicates to the compiler that a variable or parameter might be unused and is intended.

```c
void my_callback(std::string msg, [[maybe_unused]] bool error) {
  // Don't care if `msg` is an error message, just log it.
  log(msg);
}
```


### –í—ã–≤–æ–¥ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —à–∞–±–ª–æ–Ω–∞ –∫–ª–∞—Å—Å–∞

_–í—ã–≤–æ–¥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —à–∞–±–ª–æ–Ω–∞ –∫–ª–∞—Å—Å–∞_¬†(CTAD) –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –≤—ã–≤–æ–¥–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã —à–∞–±–ª–æ–Ω–∞ –∏–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.

```c
std::vector v{ 1, 2, 3 }; // –≤—ã–≤–æ–¥–∏—Ç —Ç–∏–ø std::vector<int>

std::mutex mtx;
auto lck = std::lock_guard{ mtx }; // –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ std::lock_guard<std::mutex>

auto p = new std::pair{ 1.0, 2.0 }; // –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ std::pair<double, double>*
```

–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∏–ø–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†_—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –≤—ã–≤–æ–¥—É_, —á—Ç–æ–±—ã –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, –∫–∞–∫ –≤—ã–≤–æ–¥–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã —à–∞–±–ª–æ–Ω–∞, –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–º–æ:
```cpp
template <typename T>
struct container {
  container(T t) {}

  template <typename Iter>
  container(Iter beg, Iter end);
};

// deduction guide
template <typename Iter>
container(Iter b, Iter e) -> container<typename std::iterator_traits<Iter>::value_type>;

container a{ 7 }; // OK: deduces container<int>

std::vector<double> v{ 1.0, 2.0, 3.0 };
auto b = container{ v.begin(), v.end() }; // OK: deduces container<double>

container c{ 5, 6 }; // ERROR: std::iterator_traits<int>::value_type is not a type
```